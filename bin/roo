#!/usr/bin/env perl

use strict;
use warnings;

use Getopt::Long;

my $width  = 80;
my $zero   = 0;
my $sparse = 0;

GetOptions(
  'W|width:i' => \$width,
  '0|zero'    => \$zero,
  'sparse'    => \$sparse
) or die;

my @cols = ( $zero ? 0 : 1 ) .. ( $width - ( $zero ? 1 : 0 ) );
if ( $sparse ) {
  my @pad = map { '.' } @cols;
  for ( my $i = 0; $i < @pad; $i += 5 ) {
    $pad[$i] = $cols[$i];
  }
  $pad[-1] = $cols[-1];
  @cols = @pad;
}
for my $i ( 0 .. length( $cols[-1] ) - 1 ) {
  print
   join( '', map { $i < length $_ ? substr( $_, $i, 1 ) : ' ' } @cols ),
   "\n";
}

# vim:ts=2:sw=2:sts=2:et:ft=perl

