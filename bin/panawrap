#!/usr/bin/env perl

use strict;
use warnings;

use File::Basename;
use File::Find;

find {
  wanted => sub {
    return unless /\.MTS$/i;
    my $mts  = $_;
    my $name = basename lc( $mts ), '.mts';
    my $mov  = "$name.mov";
    print "$mts -> $mov\n";
    my @cmd = (
      'ffmbc',
      -i      => $mts,
      -acodec => 'pcm_s16le',
      -ar     => 48000,
      -vcodec => 'copy',
      -r      => 50,
      $mov
    );
    system @cmd;
  },
  no_chdir => 1
}, @ARGV;

# vim:ts=2:sw=2:sts=2:et:ft=perl

