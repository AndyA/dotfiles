#!/bin/bash

dropbox="$HOME/Dropbox/hosts/run"
me=$(hostname -s)
uname=$(uname)

for d in "$dropbox/global" "$dropbox/$me" "$dropbox/$uname"; do
  if [ -d "$d" ]; then
    find $d \( -name '*.out' -o -name '*.err' -prune \) -o -type f -print | while read ex; do
      out="$ex.$me.out"
      err="$ex.$me.err"
      [ -e $out ] || [ -e $err ] || {
        chmod +x $ex
        $ex > $out 2> $err
      }
    done
  fi
done


# vim:ts=2:sw=2:sts=2:et:ft=sh

