#!/usr/bin/env perl

use strict;
use warnings;

use Getopt::Long;
use XML::SemanticDiff;

GetOptions() and @ARGV == 2
 or die "Syntax: xmldiff <file1.xml> <file2.xml>\n";

my @missing = grep { !-f } @ARGV;
die "Can't read ", join( ' or ', @missing ), "\n" if @missing;

print "$_->{message} in context $_->{context}\n"
 for XML::SemanticDiff->new->compare( @ARGV );

# vim:ts=2:sw=2:sts=2:et:ft=perl

