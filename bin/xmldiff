#!/usr/bin/env perl

use strict;
use warnings;

use Getopt::Long;
use XML::SemanticDiff;

GetOptions() and @ARGV == 2
 or die "Syntax: xmldiff <file1.xml> <file2.xml>\n";

my @missing = grep { !-f } @ARGV;
die "Can't read ", join( ' or ', @missing ), "\n" if @missing;

my $diff = XML::SemanticDiff->new();

for my $change ( $diff->compare( @ARGV ) ) {
  print "$change->{message} in context $change->{context}\n";
}

# vim:ts=2:sw=2:sts=2:et:ft=perl

